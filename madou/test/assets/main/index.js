System.register("chunks:///_virtual/EffectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainManager.ts","./WebcamTexture.ts"],(function(e){var t,n,r,i,a,l,o,s,c,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Node,s=e.Material,c=e.Component},function(e){u=e.MainManager},function(e){h=e.WebcamTexture}],execute:function(){var f,m,p,g,w,b,M,v,y,_,d;a._RF.push({},"7de44qmV6RAL5GYx7L1BRGU","EffectManager",void 0);var x=l.ccclass,A=l.property;e("EffectManager",(f=x("EffectManager"),m=A([o]),p=A([s]),g=A([o]),w=A(h),f((v=t((M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,r(t,"helmeltA",v,i(t)),r(t,"helmeltB",y,i(t)),r(t,"helmeltC",_,i(t)),t._answers={},r(t,"webcamTexture",d,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){},a.update=function(e){},a.onEnable=function(){null!=u.instance?(this._answers=u.instance.answers,this.ShowHelmet()):console.log("MainManager instance is null")},a.ShowHelmet=function(){console.log(0==this._answers[1]),console.log(this._answers);for(var e=0;e<this.helmeltA.length;e++)e==this._answers[1]&&(console.log("show A"+e),this.helmeltA[e].active=!0);for(var t=0;t<this.helmeltB.length;t++)this.webcamTexture.setTexMaterial(this.helmeltB[this._answers[2]]);for(var n=0;n<this.helmeltC.length;n++)console.log(n==this._answers[3]),this.helmeltC[n].active=n==this._answers[3]},t}(c)).prototype,"helmeltA",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(M.prototype,"helmeltB",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(M.prototype,"helmeltC",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=t(M.prototype,"webcamTexture",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=M))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/FaceTrackingManager3D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./vision_bundle.mjs","./WebcamTexture.ts"],(function(e){var t,a,r,n,i,o,c,s,u,l,p,f,d,m,h,g,v,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Node,l=e.Camera,p=e.math,f=e.Vec3,d=e.Mat4,m=e.Quat,h=e.Component},function(e){g=e.FaceLandmarker,v=e.FilesetResolver},function(e){M=e.WebcamTexture}],execute:function(){var b,w,y,k,D,x,F,T,_,L,P;c._RF.push({},"e89a2USrTtByKZVMQCimkAD","FaceTrackingManager3D",void 0);var S=s.ccclass,N=s.property;e("FaceTrackingManager3D",(b=S("FaceTrackingManager3D"),w=N(M),y=N(u),k=N(l),D=N({tooltip:"調整道具的基礎縮放比例"}),b((T=t((F=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"webcamSvc",T,n(t)),r(t,"target3DNode",_,n(t)),r(t,"mainCamera",L,n(t)),r(t,"scaleMultiplier",P,n(t)),t.faceLandmarker=null,t._currentFacingMode="environment",t}a(t,e);var c=t.prototype;return c.start=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initMediaPipe();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.initMediaPipe=function(){var e=i(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");case 2:return t=e.sent,e.next=5,g.createFromOptions(t,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task",delegate:"GPU"},outputFacialTransformationMatrixes:!0,runningMode:"VIDEO",numFaces:1});case 5:this.faceLandmarker=e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.update=function(e){var t=this.webcamSvc._video;if(this.faceLandmarker&&t&&4===t.readyState){var a=this.faceLandmarker.detectForVideo(t,performance.now());a.faceLandmarks&&a.faceLandmarks.length>0?(this.target3DNode.active=!0,this.update3DPosition(a.faceLandmarks[0]),a.facialTransformationMatrixes&&a.facialTransformationMatrixes.length>0&&this.update3DRotationOnly(a.facialTransformationMatrixes[0].data)):this.target3DNode.active=!1}},c.update3DPosition=function(e){var t=e[1],a=e[33],r=e[263],n=9/16,i=this.webcamSvc._video,o=i.videoWidth/i.videoHeight,c=t.x;if(o>n){var s=n/o,u=(1-s)/2;c=(t.x-u)/s}"user"===this.webcamSvc.getFacingMode()&&(c=c);var l=1-t.y,d=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),m=d/.25*10-25;m=p.clamp(m,-25,-5);var h=this.mainCamera.fov/2*(Math.PI/180),g=Math.tan(h)*Math.abs(m),v=g*n,M=(2*c-1)*v,b=(2*l-1)*g;this.target3DNode.setPosition(new f(M,b,m));var w=2*v*d*this.scaleMultiplier;this.target3DNode.setScale(new f(w,w,w))},c.update3DRotationOnly=function(e){var t=new d;d.set(t,e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]);var a=new m;if(t.getRotation(a),"user"===this._currentFacingMode){var r=new f;a.getEulerAngles(r),m.fromEuler(a,r.x,-r.y,-r.z)}this.target3DNode.setRotation(a)},t}(h)).prototype,"webcamSvc",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(F.prototype,"target3DNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(F.prototype,"mainCamera",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(F.prototype,"scaleMultiplier",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),x=F))||x));c._RF.pop()}}}));

System.register("chunks:///_virtual/ITweenPlayerOOP.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenEvent.ts"],(function(e){var t,n,r,a,o,u,i,c,s,l,p,O,d,g,y,v,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,i=e._decorator,c=e.Sprite,s=e.Label,l=e.UIOpacity,p=e.tween,O=e.Component,d=e.Color},function(e){g=e.TweenEvent,y=e.TweenEventType,v=e.LoopMode,I=e.EaseType}],execute:function(){var f,h,b,w,T,E,P;u._RF.push({},"8ba52IyMv5M57os350UalWD","ITweenPlayerOOP",void 0);var C=i.ccclass,_=i.property;e("ITweenPlayerOOP",(f=C("ITweenPlayerOOP"),h=_({tooltip:"Enable 時自動播放所有 Events"}),b=_({type:g,tooltip:"Tween Events（可按 + 新增）"}),f((E=t((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,r(t,"playOnEnable",E,a(t)),r(t,"events",P,a(t)),t._runningTweens=[],t}n(t,e);var u=t.prototype;return u.onEnable=function(){this.playOnEnable&&this.playAll()},u.onDisable=function(){this.stopAll()},u.playAll=function(){this.stopAll();for(var e,t=o(this.events);!(e=t()).done;){var n=e.value;if(n.enabled){var r=this.createTweenForEvent(n);r&&(this._runningTweens.push(r),r.start())}}},u.stopAll=function(){for(var e,t=o(this._runningTweens);!(e=t()).done;){e.value.stop()}this._runningTweens.length=0},u.createTweenForEvent=function(e){switch(e.type){case y.Position:return this._createPositionTween(e);case y.Scale:return this._createScaleTween(e);case y.Rotation:return this._createRotationTween(e);case y.Color:return this._createColorTween(e);case y.UIOpacity:return this._createUIOpacityTween(e);default:return null}},u._createPositionTween=function(e){var t=e.target||this.node,n=function(){return t.setPosition(e.startPosition)};n();var r=this.getEaseName(e.easing);return this.applyLoopMode(e,t,n,(function(){var n=p(t);return e.delay>0&&(n=n.delay(e.delay)),n.to(e.duration,{position:e.endPosition},{easing:r})}),(function(){return p(t).to(e.duration,{position:e.startPosition},{easing:r})}))},u._createScaleTween=function(e){var t=e.target||this.node,n=function(){return t.setScale(e.startScale)};n();var r=this.getEaseName(e.easing);return this.applyLoopMode(e,t,n,(function(){var n=p(t);return e.delay>0&&(n=n.delay(e.delay)),n.to(e.duration,{scale:e.endScale},{easing:r})}),(function(){return p(t).to(e.duration,{scale:e.startScale},{easing:r})}))},u._createRotationTween=function(e){var t=e.target||this.node,n=function(){return t.angle=e.startAngle};n();var r=this.getEaseName(e.easing);return this.applyLoopMode(e,t,n,(function(){var n=p(t);return e.delay>0&&(n=n.delay(e.delay)),n.to(e.duration,{angle:e.endAngle},{easing:r})}),(function(){return p(t).to(e.duration,{angle:e.startAngle},{easing:r})}))},u._createColorTween=function(e){var t=e.colorTarget||e.target||this.node,n=t.getComponent(c)||t.getComponent(s);if(!n)return console.warn("[ITweenPlayerOOP] Color event：目標節點沒有 Sprite 或 Label"),null;var r=e.startColor.clone(),a=e.endColor.clone(),o={r:r.r,g:r.g,b:r.b,a:r.a},u=function(){n.color=new d(o.r,o.g,o.b,o.a)},i=function(){o.r=r.r,o.g=r.g,o.b=r.b,o.a=r.a,u()};i();var l=this.getEaseName(e.easing);return this.applyLoopMode(e,o,i,(function(){var t=p(o);return e.delay>0&&(t=t.delay(e.delay)),t.to(e.duration,{r:a.r,g:a.g,b:a.b,a:a.a},{easing:l,onUpdate:u})}),(function(){return p(o).to(e.duration,{r:r.r,g:r.g,b:r.b,a:r.a},{easing:l,onUpdate:u})}))},u._createUIOpacityTween=function(e){var t=(e.target||this.node).getComponent(l);if(!t)return console.warn("[ITweenPlayerOOP] UIOpacity event：目標節點沒有 UIOpacity 元件"),null;var n={value:e.startOpacity},r=function(){t.opacity=n.value},a=function(){n.value=e.startOpacity,r()};a();var o=this.getEaseName(e.easing);return this.applyLoopMode(e,n,a,(function(){var t=p(n);return e.delay>0&&(t=t.delay(e.delay)),t.to(e.duration,{value:e.endOpacity},{easing:o,onUpdate:r})}),(function(){return p(n).to(e.duration,{value:e.startOpacity},{easing:o,onUpdate:r})}))},u.applyLoopMode=function(e,t,n,r,a){var o=function(){var o=p(t).call(n),u=r();if(e.loopMode===v.PingPong){var i=a();return p(t).sequence(o,u,i)}return p(t).sequence(o,u)};if(!e.loop){var u=r();if(e.loopMode===v.PingPong){var i=a();return p(t).sequence(u,i)}return u}return 0===e.loopCount?p(t).repeatForever(o()):e.loopCount>0?p(t).repeat(e.loopCount,o()):p(t).repeatForever(o())},u.getEaseName=function(e){switch(e){case I.Linear:return"linear";case I.Constant:return"constant";case I.SineIn:return"sineIn";case I.SineOut:return"sineOut";case I.SineInOut:return"sineInOut";case I.QuadIn:return"quadIn";case I.QuadOut:return"quadOut";case I.QuadInOut:return"quadInOut";case I.CubicIn:return"cubicIn";case I.CubicOut:return"cubicOut";case I.CubicInOut:return"cubicInOut";case I.QuartIn:return"quartIn";case I.QuartOut:return"quartOut";case I.QuartInOut:return"quartInOut";case I.QuintIn:return"quintIn";case I.QuintOut:return"quintOut";case I.QuintInOut:return"quintInOut";case I.ExpoIn:return"expoIn";case I.ExpoOut:return"expoOut";case I.ExpoInOut:return"expoInOut";case I.CircIn:return"circIn";case I.CircOut:return"circOut";case I.CircInOut:return"circInOut";case I.ElasticIn:return"elasticIn";case I.ElasticOut:return"elasticOut";case I.ElasticInOut:return"elasticInOut";case I.BackIn:return"backIn";case I.BackOut:return"backOut";case I.BackInOut:return"backInOut";case I.BounceIn:return"bounceIn";case I.BounceOut:return"bounceOut";case I.BounceInOut:return"bounceInOut";default:return"linear"}},t}(O)).prototype,"playOnEnable",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=t(T.prototype,"events",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=T))||w));u._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./EffectManager.ts","./FaceTrackingManager3D.ts","./MainManager.ts","./PlaneFitter.ts","./QuizManager.ts","./ScreenshotTool.ts","./ITweenPlayerOOP.ts","./TweenEvent.ts","./UIManager.ts","./WebcamTexture.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,a,s,r,o;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){a=n.cclegacy,s=n._decorator,r=n.director,o=n.Component}],execute:function(){var i,c;a._RF.push({},"240783QuM1C8pu/qEqU8s9A","MainManager",void 0);var u=s.ccclass;s.property,n("MainManager",u("MainManager")(((c=function(n){function a(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(e=n.call.apply(n,[this].concat(a))||this)._answers={},e}e(a,n);var s=a.prototype;return s.onLoad=function(){a._instance&&a._instance!==this?this.node.destroy():(a._instance=this,r.addPersistRootNode(this.node))},s.start=function(){},s.update=function(n){},s.loadARScene=function(){r.loadScene("AR")},t(a,[{key:"answers",get:function(){return this._answers},set:function(n){this._answers=n,console.log("MainManager 收到答案：",this._answers)}}],[{key:"instance",get:function(){return this._instance||console.warn("MainGame 還沒有被綁定到 Node 上！"),this._instance}}]),a}(o))._instance=null,i=c))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/PlaneFitter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,a,o,c,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Camera,s=t.Vec3,l=t.view,u=t.Component}],execute:function(){var p,f,h,d,g,m,y,v;a._RF.push({},"dc11eGUx9pOfqreWjtr3Qto","PlaneFitter",void 0);var P=o.ccclass,C=o.property,b=o.executeInEditMode;t("PlaneFitter",(p=P("PlaneFitter"),f=b(!0),h=C(c),d=C({tooltip:"是否每一幀都重新計算 (若相機 FOV 或 Plane 位置會變動則勾選)"}),p(g=f((y=e((m=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"targetCamera",y,n(e)),r(e,"isDynamic",v,n(e)),e}i(e,t);var a=e.prototype;return a.start=function(){this.fit()},a.update=function(t){(this.isDynamic||CC_EDITOR)&&this.fit()},a.fit=function(){if(this.targetCamera&&this.node){var t=this.targetCamera.node.worldPosition,e=this.node.worldPosition,i=s.distance(t,e);if(!(i<=0)){var r=this.targetCamera.fov,n=l.getVisibleSize(),a=n.width/n.height,o=r/2*(Math.PI/180),c=2*Math.tan(o)*i,u=c*a/10,p=c/10;this.node.setScale(new s(u,1,p))}}},e}(u)).prototype,"targetCamera",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(m.prototype,"isDynamic",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=m))||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/QuizManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainManager.ts"],(function(t){var e,n,i,o,r,s,l,a,u,c,h,p,b,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Label,a=t.Button,u=t.SpriteFrame,c=t.Node,h=t.Sprite,p=t.Color,b=t.EventHandler,d=t.Component},function(t){g=t.MainManager}],execute:function(){var B,f,x,v,w,m,L,_,y,C,z,I,q,S,Q,A,F,M,O,G,P,T,D,R,k,E,N,H,J,j,K;r._RF.push({},"34530+z/RJByL2nJOR528Y2","QuizManager",void 0);var Y=s.ccclass,U=s.property,V=[{id:"1",title:"Q1｜此刻你的「能量 × 感受」最接近哪一個？",question:"請依照此刻的感覺作答；沒有標準答案。",options:[{id:"A",text:"高能量 × 不舒服（焦躁、緊張）"},{id:"B",text:"高能量 × 舒服（興奮、期待）"},{id:"C",text:"低能量 × 不舒服（沮喪、疲倦）"},{id:"D",text:"低能量 × 舒服（平靜、放鬆）"}]},{id:"2",title:"Q2｜此刻你最明顯的身體訊號是？",question:"",options:[{id:"A",text:"身體輕鬆、呼吸順暢"},{id:"B",text:"有力量、準備好的感覺"},{id:"C",text:"平平的、沒什麼特別感覺"},{id:"D",text:"身體緊繃或卡卡的"},{id:"E",text:"提不起勁、想躺下"}]},{id:"3",title:"Q3｜此刻你最需要哪一種支持？",question:"",options:[{id:"A",text:"先穩定身體節奏"},{id:"B",text:"把事情拆小步"},{id:"C",text:"有人安靜在旁、可靠一下"},{id:"D",text:"一個溫暖擁抱／自我擁抱"}]}];t("QuizManager",(B=Y("QuizManager"),f=U(l),x=U(l),v=U([a]),w=U([l]),m=U(a),L=U(u),_=U(u),y=U(l),C=U(c),z=U(l),I=U(h),q=U(u),S=U(p),Q=U(c),B((M=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"titleLabel",M,o(e)),i(e,"questionLabel",O,o(e)),i(e,"optionBtns",G,o(e)),i(e,"optionLabels",P,o(e)),i(e,"nextButton",T,o(e)),i(e,"nextButtonText",D,o(e)),i(e,"nextButtonFinal",R,o(e)),i(e,"progressLabel",k,o(e)),i(e,"resultPanel",E,o(e)),i(e,"resultLabel",N,o(e)),i(e,"quitBG",H,o(e)),i(e,"quitBGSprites",J,o(e)),i(e,"selectBtnColors",j,o(e)),i(e,"buttonsNode",K,o(e)),e._currentIndex=0,e._selectedOptionIndex=-1,e._answers={},e._isAnswered=!1,e}n(e,t);var r=e.prototype;return r.start=function(){this.Init(),this.resultPanel&&(this.resultPanel.active=!1);for(var t=0;t<this.optionBtns.length;t++){var e=this.optionBtns[t],n=new b;n.target=this.node,n.component="QuizManager",n.handler="onClickOptionButton",n.customEventData=t.toString(),e.clickEvents.push(n)}this.nextButton.node.on(a.EventType.CLICK,this.onSendButtonClick,this)},r.Init=function(){this._currentIndex=0,this._answers={},this._isAnswered=!1,this._selectedOptionIndex,this.resetSelectButtons(),this.showCurrentQuestion(),this.nextButton.getComponent(h).spriteFrame=this.nextButtonText,this.quitBG.spriteFrame=this.quitBGSprites[0]},r.showCurrentQuestion=function(){var t=this,e=V[this._currentIndex];if(e){this.buttonsNode.active=!1,this.nextButton.node.active=!1,this.titleLabel&&(this.titleLabel.node.active=!1,this.titleLabel.string=e.title,this.titleLabel.node.active=!0),this.questionLabel&&(this.questionLabel.node.active=!1,this.questionLabel.string=e.question||"",this.questionLabel.node.active=!0),this.hideAllbutton();for(var n=0;n<this.optionLabels.length;n++){var i=this.optionLabels[n],o=e.options[n];i&&o&&(i.string=o.id+". "+o.text),this.optionBtns[n].getComponent(h).color=new p(255,255,255,0),this.optionBtns[n].node.active=!!o}setTimeout((function(){t.buttonsNode.active=!0}),.1),setTimeout((function(){t.nextButton.node.active=!0}),.5),this.quitBG.spriteFrame=this.quitBGSprites[this._currentIndex],this.progressLabel&&(this.progressLabel.string=this._currentIndex+1+" / "+V.length),this._currentIndex+1==V.length&&(this.nextButton.getComponent(h).spriteFrame=this._currentIndex+1==V.length?this.nextButtonFinal:this.nextButtonText)}},r.hideAllbutton=function(){for(var t=0;t<this.optionBtns.length;t++)console.log("hide button"),this.optionBtns[t].getComponent(h).color=new p(255,255,255,0),this.optionBtns[t].node.active=!1},r.onClickOptionButton=function(t,e){var n=parseInt(e,10);console.log(n),this.toggleSelectButton(n),this._selectedOptionIndex=n;var i=V[this._currentIndex];i&&(i.options[n]&&(this._answers[i.id]=n))},r.onSendButtonClick=function(){-1!=this._selectedOptionIndex?(this._currentIndex<V.length-1?(this._currentIndex++,this.hideAllbutton(),this.showCurrentQuestion()):this.showResult(),this._selectedOptionIndex=-1,this.resetSelectButtons()):console.log("請先選擇一個選項")},r.toggleSelectButton=function(t){for(var e=0;e<this.optionBtns.length;e++){var n=this.optionBtns[e].getComponent("cc.Sprite");n.color=e==t?this.selectBtnColors[this._currentIndex]:new p(255,255,255)}},r.resetSelectButtons=function(){this._selectedOptionIndex;for(var t=0;t<this.optionBtns.length;t++){this.optionBtns[t].getComponent("cc.Sprite").color=new p(255,255,255)}},r.showResult=function(){for(var t="你的作答結果：\n\n",e=0,n=V;e<n.length;e++){var i=n[e],o=this._answers[i.id]||"-";t+=i.id+"：選擇 "+o+"\n"}console.log(g.instance.node.name),console.log(t),console.log(this._answers),this.resultLabel&&(this.resultLabel.string=t),this.resultPanel&&(this.resultPanel.active=!0),g.instance.answers=this._answers,g.instance.loadARScene()},e}(d)).prototype,"titleLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(F.prototype,"questionLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(F.prototype,"optionBtns",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(F.prototype,"optionLabels",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=e(F.prototype,"nextButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(F.prototype,"nextButtonText",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(F.prototype,"nextButtonFinal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(F.prototype,"progressLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(F.prototype,"resultPanel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(F.prototype,"resultLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"quitBG",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(F.prototype,"quitBGSprites",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(F.prototype,"selectBtnColors",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(F.prototype,"buttonsNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=F))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenshotTool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,n,i,o,l,s,u,c,p,h,d,g,f,v,m,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Camera,s=e.Node,u=e.Sprite,c=e.director,p=e.view,h=e.RenderTexture,d=e.Director,g=e.sys,f=e.ImageAsset,v=e.Texture2D,m=e.SpriteFrame,w=e.Component}],execute:function(){var y,b,x,T,P,_,C,S,D,B,z;i._RF.push({},"2cd64AN/4pPyJPGWEua49Oj","ScreenshotTool",void 0);var I=o.ccclass,A=o.property;e("ScreenshotTool",(y=I("ScreenshotTool"),b=A({type:l,tooltip:"要進行截圖的目標攝影機"}),x=A({type:s,tooltip:"截圖前要顯示的 UI 面板"}),T=A({type:s,tooltip:"截圖完成後要顯示的 UI 面板"}),P=A({type:u,tooltip:"面板上用於顯示結果的 Sprite"}),y((S=t((C=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"targetCamera",S,n(t)),a(t,"capturePanel",D,n(t)),a(t,"resultPanel",B,n(t)),a(t,"previewSprite",z,n(t)),t._capturedBase64Data="",t._renderTexture=null,t}r(t,e);var i=t.prototype;return i.start=function(){this.resultPanel&&(this.resultPanel.active=!1),this.capturePanel&&(this.capturePanel.active=!0)},i.loadQuizScene=function(){c.loadScene("quiz")},i.onCaptureButtonClicked=function(){var e=this;if(this.targetCamera){console.log("1. 準備截圖，設定 RenderTexture...");var t=p.getVisibleSize().width,r=p.getVisibleSize().height;this._renderTexture||(this._renderTexture=new h,this._renderTexture.reset({width:t,height:r}));var a=this.targetCamera.targetTexture;this.targetCamera.targetTexture=this._renderTexture,c.once(d.EVENT_AFTER_DRAW,(function(){console.log("2. 渲染完成，開始讀取像素..."),e.executeCapture(),e.targetCamera.targetTexture=a}),this)}else console.error("未指定目標攝影機！")},i.onDownloadButtonClicked=function(){this._capturedBase64Data?g.isBrowser?this.downloadImageWeb(this._capturedBase64Data,"screenshot.png"):console.warn("原生平台的下載功能需要額外實作 (如調用原生相簿 API)"):console.warn("沒有可下載的圖像數據")},i.onCloseButtonClicked=function(){this.resultPanel&&(this.resultPanel.active=!1),this.capturePanel&&(this.capturePanel.active=!0),this._capturedBase64Data="",this.previewSprite&&(this.previewSprite.spriteFrame=null)},i.executeCapture=function(){if(this._renderTexture){var e=this._renderTexture.width,t=this._renderTexture.height,r=this._renderTexture.readPixels();g.isBrowser?this.processPixelsForWeb(r,e,t):console.warn("原生平台需實作 saveToAlbum")}},i.processPixelsForWeb=function(e,t,r){var a=this,n=Math.floor(t),i=Math.floor(r),o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),l=4*n,s=n*i*4;if(o.length<s)console.error("截圖數據長度不足！預期: "+s+", 實際: "+o.length);else{for(var u=new Uint8Array(s),c=0;c<i;c++){var p=c*l,h=(i-c-1)*l,d=o.subarray(p,p+l);u.set(d,h)}var g=document.createElement("canvas");g.width=n,g.height=i;var w=g.getContext("2d"),y=w.createImageData(n,i);y.data.set(u),w.putImageData(y,0,0);var b=g.toDataURL("image/png");this._capturedBase64Data=b;var x=new Image;x.onload=function(){var e=new f(x),t=new v;t.image=e;var r=new m;r.texture=t,a.previewSprite&&a.resultPanel&&(a.previewSprite.spriteFrame=r,a.capturePanel.active=!1,a.resultPanel.active=!0,console.log("截圖成功並顯示！"))},x.src=b}},i.downloadImageWeb=function(e,t){console.log("準備下載...");var r=document.createElement("a");r.href=e,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)},i.onDestroy=function(){this._renderTexture&&(this._renderTexture.destroy(),this._renderTexture=null)},t}(w)).prototype,"targetCamera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"capturePanel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"resultPanel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"previewSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/TweenEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,r,u,l,a;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t._decorator,r=t.Enum,u=t.Node,l=t.Vec3,a=t.Color}],execute:function(){var c,p,s,b,f,y,h,O,I,g,w,d,v,C,m,z,E,P,Q,S,B,T,L,R,k,x,U,A,M,_,D,j,F,G,Z,q,H,N,V,W,J,K,X;n._RF.push({},"2521dgQTTlO+bqjkRbtIrPW","TweenEvent",void 0);var Y=o.ccclass,$=o.property,tt=t("TweenEventType",function(t){return t[t.Position=0]="Position",t[t.Scale=1]="Scale",t[t.Rotation=2]="Rotation",t[t.Color=3]="Color",t[t.UIOpacity=4]="UIOpacity",t}({}));r(tt);var it=t("LoopMode",function(t){return t[t.Loop=0]="Loop",t[t.PingPong=1]="PingPong",t}({}));r(it);var et=t("EaseType",function(t){return t[t.Linear=0]="Linear",t[t.Constant=1]="Constant",t[t.SineIn=2]="SineIn",t[t.SineOut=3]="SineOut",t[t.SineInOut=4]="SineInOut",t[t.QuadIn=5]="QuadIn",t[t.QuadOut=6]="QuadOut",t[t.QuadInOut=7]="QuadInOut",t[t.CubicIn=8]="CubicIn",t[t.CubicOut=9]="CubicOut",t[t.CubicInOut=10]="CubicInOut",t[t.QuartIn=11]="QuartIn",t[t.QuartOut=12]="QuartOut",t[t.QuartInOut=13]="QuartInOut",t[t.QuintIn=14]="QuintIn",t[t.QuintOut=15]="QuintOut",t[t.QuintInOut=16]="QuintInOut",t[t.ExpoIn=17]="ExpoIn",t[t.ExpoOut=18]="ExpoOut",t[t.ExpoInOut=19]="ExpoInOut",t[t.CircIn=20]="CircIn",t[t.CircOut=21]="CircOut",t[t.CircInOut=22]="CircInOut",t[t.ElasticIn=23]="ElasticIn",t[t.ElasticOut=24]="ElasticOut",t[t.ElasticInOut=25]="ElasticInOut",t[t.BackIn=26]="BackIn",t[t.BackOut=27]="BackOut",t[t.BackInOut=28]="BackInOut",t[t.BounceIn=29]="BounceIn",t[t.BounceOut=30]="BounceOut",t[t.BounceInOut=31]="BounceInOut",t}({}));r(et);t("TweenEvent",(c=Y("TweenEvent"),p=$({tooltip:"是否啟用這個 Tween Event"}),s=$({type:r(tt),tooltip:"事件類型"}),b=$({type:u,tooltip:"目標節點（Position / Scale / Rotation / UIOpacity）"}),f=$({type:u,visible:function(){return this.type===tt.Color},tooltip:"顏色目標節點（需有 Sprite 或 Label）"}),y=$({tooltip:"延遲 (秒)"}),h=$({tooltip:"播放時間 (秒)"}),O=$({tooltip:"是否循環"}),I=$({type:r(it),tooltip:"循環模式：Loop（每輪回起點）/ PingPong（來回）",visible:function(){return!0===this.loop}}),g=$({tooltip:"循環次數：0=無限；>0=次數",visible:function(){return!0===this.loop}}),w=$({type:r(et),tooltip:"easing"}),d=$({visible:function(){return this.type===tt.Position},tooltip:"起始位置 (local)"}),v=$({visible:function(){return this.type===tt.Position},tooltip:"結束位置 (local)"}),C=$({visible:function(){return this.type===tt.Scale},tooltip:"起始縮放"}),m=$({visible:function(){return this.type===tt.Scale},tooltip:"結束縮放"}),z=$({visible:function(){return this.type===tt.Rotation},tooltip:"起始角度 (Z/angle, 度)"}),E=$({visible:function(){return this.type===tt.Rotation},tooltip:"結束角度 (Z/angle, 度)"}),P=$({visible:function(){return this.type===tt.Color},tooltip:"起始顏色（RGB，不影響透明度）"}),Q=$({visible:function(){return this.type===tt.Color},tooltip:"結束顏色（RGB，不影響透明度）"}),S=$({visible:function(){return this.type===tt.UIOpacity},tooltip:"起始透明度（0~255）"}),B=$({visible:function(){return this.type===tt.UIOpacity},tooltip:"結束透明度（0~255）"}),c((R=i((L=function(){e(this,"enabled",R,this),e(this,"type",k,this),e(this,"target",x,this),e(this,"colorTarget",U,this),e(this,"delay",A,this),e(this,"duration",M,this),e(this,"loop",_,this),e(this,"loopMode",D,this),e(this,"loopCount",j,this),e(this,"easing",F,this),e(this,"startPosition",G,this),e(this,"endPosition",Z,this),e(this,"startScale",q,this),e(this,"endScale",H,this),e(this,"startAngle",N,this),e(this,"endAngle",V,this),e(this,"startColor",W,this),e(this,"endColor",J,this),e(this,"startOpacity",K,this),e(this,"endOpacity",X,this)}).prototype,"enabled",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=i(L.prototype,"type",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tt.Position}}),x=i(L.prototype,"target",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(L.prototype,"colorTarget",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(L.prototype,"delay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=i(L.prototype,"duration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=i(L.prototype,"loop",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=i(L.prototype,"loopMode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return it.Loop}}),j=i(L.prototype,"loopCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=i(L.prototype,"easing",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.Linear}}),G=i(L.prototype,"startPosition",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),Z=i(L.prototype,"endPosition",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),q=i(L.prototype,"startScale",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(1,1,1)}}),H=i(L.prototype,"endScale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(1,1,1)}}),N=i(L.prototype,"startAngle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=i(L.prototype,"endAngle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=i(L.prototype,"startColor",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(255,255,255,255)}}),J=i(L.prototype,"endColor",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(255,255,255,255)}}),K=i(L.prototype,"startOpacity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 255}}),X=i(L.prototype,"endOpacity",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 255}}),T=L))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,r,s,c,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Node,a=t.Button,u=t.Component}],execute:function(){var l,d,h,p,N,f,g,b,v,y,w,q,z;r._RF.push({},"92b55VMWOFHwqxq/vY/aAwr","UIManager",void 0);var B=s.ccclass,D=s.property;t("UIManager",(l=B("UIManager"),d=D(c),h=D(c),p=D(c),N=D(a),f=D(a),l((v=e((b=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"titleNode",v,n(e)),o(e,"descNode",y,n(e)),o(e,"quitNode",w,n(e)),o(e,"gotoDescBtn",q,n(e)),o(e,"gotoQuizBtn",z,n(e)),e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.gotoDescBtn.node.on("click",this.showDesc,this),this.gotoQuizBtn.node.on("click",this.showQuit,this),this.onReset()},r.onReset=function(){this.titleNode&&(this.titleNode.active=!0),this.descNode&&(this.descNode.active=!1),this.quitNode&&(this.quitNode.active=!1)},r.showDesc=function(){this.titleNode&&(this.titleNode.active=!1),this.descNode&&(this.descNode.active=!0),this.quitNode&&(this.quitNode.active=!1)},r.showQuit=function(){this.titleNode&&(this.titleNode.active=!1),this.descNode&&(this.descNode.active=!1),this.quitNode&&(this.quitNode.active=!0)},e}(u)).prototype,"titleNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"descNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(b.prototype,"quitNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(b.prototype,"gotoDescBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(b.prototype,"gotoQuizBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/WebcamTexture.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,a,s,o,c,u,h,l,d,p,v,_,f,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,u=e.Enum,h=e.Sprite,l=e.MeshRenderer,d=e.Label,p=e.Texture2D,v=e.SpriteFrame,_=e.Vec3,f=e.UITransform,m=e.Component,g=e.sys}],execute:function(){var y,w,x,b,T,R,M,A,S,F,D;o._RF.push({},"d4dc2rhnBJANL+VEGy8SqL6","WebcamTexture",void 0);var E=c.ccclass,z=c.property,L=function(e){return e[e.Sprite_2D=0]="Sprite_2D",e[e.Plane_3D=1]="Plane_3D",e}(L||{});u(L);e("WebcamTexture",(y=E("WebcamTexture"),w=z({type:L,tooltip:"選擇顯示模式：2D Sprite 或 3D Plane"}),x=z({type:h,visible:function(){return this.displayMode===L.Sprite_2D}}),b=z({type:l,visible:function(){return this.displayMode===L.Plane_3D}}),T=z(d),y((A=t((M=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,r(t,"displayMode",A,n(t)),r(t,"cameraSprite",S,n(t)),r(t,"cameraMesh",F,n(t)),r(t,"logLabel",D,n(t)),t._video=null,t._canvas=null,t._ctx=null,t._texture=null,t._ready=!1,t._resizeRAF=0,t._currentFacingMode="user",t.TARGET_RATIO=9/16,t.queueReflow=function(){t._resizeRAF||(t._resizeRAF=requestAnimationFrame((function(){t._resizeRAF=0,t.reflow()})))},t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.isBrowser){e.next=2;break}return e.abrupt("return");case 2:return this.setupVideoElement(),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),document.body.appendChild(this._canvas),this._canvas.style.display="none",e.next=9,this.startCamera(this._currentFacingMode);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.setTexMaterial=function(){var e=a(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cameraMesh){e.next=4;break}return this.cameraMesh.material=t,e.next=4,this.startCamera(this._currentFacingMode);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.setupVideoElement=function(){this._video=document.createElement("video"),this._video.setAttribute("autoplay",""),this._video.setAttribute("muted",""),this._video.setAttribute("playsinline","")},o.startCamera=function(){var e=a(s().mark((function e(t){var i,r,n=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._ready=!1,this._currentFacingMode=t,null!=(i=this._video)&&i.srcObject&&this._video.srcObject.getTracks().forEach((function(e){return e.stop()})),e.prev=3,e.next=6,navigator.mediaDevices.getUserMedia({video:{facingMode:t},audio:!1});case 6:return r=e.sent,this._video.srcObject=r,e.next=10,new Promise((function(e){n._video.onloadedmetadata=function(){n._video.play(),e()}}));case 10:this.initTexture(),this.setupResizeListeners(),this._ready=!0,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("無法取得攝影機：",e.t0);case 18:case"end":return e.stop()}}),e,this,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),o.toggleCamera=function(){var e=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="user"===this._currentFacingMode?"environment":"user",e.next=3,this.startCamera(t);case 3:console.log("切換鏡頭至: "+t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.getFacingMode=function(){return this._currentFacingMode},o.initTexture=function(){var e=this._video.videoHeight,t=e*this.TARGET_RATIO;if(this._canvas.width=t,this._canvas.height=e,this._texture||(this._texture=new p),this._texture.reset({width:t,height:e,format:p.PixelFormat.RGB888}),this.displayMode===L.Sprite_2D&&this.cameraSprite){var i=new v;i.texture=this._texture,this.cameraSprite.spriteFrame=i}else if(this.displayMode===L.Plane_3D&&this.cameraMesh){var r=this.cameraMesh.getMaterialInstance(0);r&&r.setProperty("mainTexture",this._texture)}this.reflow()},o.setupResizeListeners=function(){var e,t;window.removeEventListener("resize",this.queueReflow),window.addEventListener("resize",this.queueReflow),null==(e=this._video)||e.removeEventListener("resize",this.queueReflow),null==(t=this._video)||t.addEventListener("resize",this.queueReflow),this.queueReflow()},o.reflow=function(){this._ready&&this._video&&(this.displayMode===L.Sprite_2D?this.fitSpriteToParentHeight(this._video.videoHeight):this.fitPlaneToVideoRatio())},o.fitPlaneToVideoRatio=function(){if(this.cameraMesh){var e=this.TARGET_RATIO;this.logLabel&&(this.logLabel.string="Fixed Ratio: 9:16 ("+e.toFixed(4)+")");var t=0;t=(this._currentFacingMode,-e),this.cameraMesh.node.setScale(new _(t,1,1))}},o.fitSpriteToParentHeight=function(e){var t;if(this.cameraSprite){var i=this.cameraSprite.node,r=null==(t=i.parent)?void 0:t.getComponent(f),n=i.getComponent(f);if(n&&r){n.setContentSize(n.width,e);var a=r.height/e;i.setScale(a,a,1)}}},o.update=function(){if(this._ready&&this._video&&this._canvas&&this._ctx&&this._texture){var e=this._video.videoWidth,t=this._video.videoHeight,i=0,r=0,n=e,a=t;e/t>this.TARGET_RATIO?i=(e-(n=t*this.TARGET_RATIO))/2:r=(t-(a=e/this.TARGET_RATIO))/2,this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.drawImage(this._video,i,r,n,a,0,0,this._canvas.width,this._canvas.height),this._texture.uploadData(this._canvas)}},o.onDestroy=function(){var e;null!=(e=this._video)&&e.srcObject&&this._video.srcObject.getTracks().forEach((function(e){return e.stop()})),window.removeEventListener("resize",this.queueReflow)},t}(m)).prototype,"displayMode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.Sprite_2D}}),S=t(M.prototype,"cameraSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"cameraMesh",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"logLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=M))||R));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});